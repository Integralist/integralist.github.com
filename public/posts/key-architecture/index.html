<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'>
<meta name='description' content='Introduction Visual Breakdown Vulnerabilities? Conclusion  
Introduction Just a quick post to cover the key architecture I&rsquo;m using currently. I&rsquo;m very interested to know how others are doing things in the hope that I can improve the security of my setup.
 Note: I&rsquo;m not a security paranoia nut, so I&rsquo;m not looking for the most concrete solution. But definitely want to be sure I&rsquo;m not missing anything obvious either'>

<meta property='og:title' content='Key Architecture ⋆ Mark McDonnell'>
<meta property='og:description' content='Introduction Visual Breakdown Vulnerabilities? Conclusion  
Introduction Just a quick post to cover the key architecture I&rsquo;m using currently. I&rsquo;m very interested to know how others are doing things in the hope that I can improve the security of my setup.
 Note: I&rsquo;m not a security paranoia nut, so I&rsquo;m not looking for the most concrete solution. But definitely want to be sure I&rsquo;m not missing anything obvious either'>
<meta property='og:url' content='http://www.integralist.co.uk/posts/key-architecture/'>
<meta property='og:site_name' content='integralist'>
<meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='key'><meta property='article:tag' content='gpg'><meta property='article:published_time' content='2016-12-10T13:00:00&#43;01:00'/><meta property='article:modified_time' content='2016-12-10T13:00:00&#43;01:00'/>

<meta name="generator" content="Hugo 0.26" />

  <title>Key Architecture ⋆ Mark McDonnell</title>
  <link rel='canonical' href='http://www.integralist.co.uk/posts/key-architecture/'>
  
  <link rel='icon' href='/favicon.ico'>
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Ubuntu:400,400i,700&subset=latin'>
<link rel='stylesheet' href='/css/main.d02777fd.css'>

  <link rel='stylesheet' href='/css/custom.css'>


<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-33159515-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>


</head>


<body class='page'>
  <div class='site'>
    <header id='header' class='header-container'>
      <div class='site-header'>
        <nav id='navmenu' aria-label='Main Menu'>
  <ul class='main-menu'>
    
    <li>
      <a href='/' 
        
      >Home</a>
    </li>
    
    <li>
      <a href='/about/' 
        
      >About</a>
    </li>
    
    <li>
      <a href='/posts' 
        
      >Posts</a>
    </li>
    
    <li>
      <a href='http://www.integralist.co.uk/resume' 
        
      >Resume</a>
    </li>
    
  </ul>
</nav>

        <div class='site-info'>
          
          <p class='site-title title'>integralist</p>
          
          <p class='site-description'>Polyglot. Author. Human.</p>
        </div>
      </div>
    </header>


<main class='main'>
  <article lang='en' class='entry'>
    <header class='entry-header'>
  <div class='entry-info'>
    <h1 class='entry-title title'>Key Architecture</h1>
    
  </div>
  
<div class='meta'>
  <span class='posted-on'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
  <line x1="16" y1="2" x2="16" y2="6"/>
  <line x1="8" y1="2" x2="8" y2="6"/>
  <line x1="3" y1="10" x2="21" y2="10"/>
  
</svg>

    <span class='screen-reader'>Posted on </span>
    <time class='date' datetime='2016-12-10T13:00:00&#43;01:00'>2016-12-10</time>
  </span>
  
  <span class='byline'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M21,21V20c0-2.76-4-5-9-5s-9,2.24-9,5v1"/>
  <path d="M16,6.37A4,4,0,1,1,12.63,3,4,4,0,0,1,16,6.37Z"/>
  
</svg>

    <span class='screen-reader'> by </span>
    Mark McDonnell
  </span>
  
  
  <span class='reading-time'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <circle cx="12" cy="12" r="10"/>
  <polyline points="12 6 12 12 15 15"/> 
  
</svg>

    3 mins read
  </span>
  
</div>


</header>

    <div class='entry-content'>
  

<ul>
<li><a href="#1">Introduction</a></li>
<li><a href="#2">Visual</a></li>
<li><a href="#3">Breakdown</a></li>
<li><a href="#4">Vulnerabilities?</a></li>
<li><a href="#5">Conclusion</a></li>
</ul>

<p><div id="1"></div></p>

<h2 id="introduction">Introduction</h2>

<p>Just a quick post to cover the key architecture I&rsquo;m using currently. I&rsquo;m very interested to know how others are doing things in the hope that I can improve the security of my setup.</p>

<blockquote>
<p>Note: I&rsquo;m not a security paranoia nut, so I&rsquo;m not looking for the most concrete solution. But definitely want to be sure I&rsquo;m not missing anything obvious either</p>
</blockquote>

<p><div id="2"></div></p>

<h2 id="visual">Visual</h2>

<p>Here is a high-level view of what I have currently:</p>

<p><a href="../../images/key-architecture.png">
    <img src="../../images/key-architecture.png">
</a></p>

<p><div id="3"></div></p>

<h2 id="breakdown">Breakdown</h2>

<p>Let&rsquo;s start at the top&hellip;</p>

<h3 id="laptop">Laptop</h3>

<p>The laptop is password protected and the hard drive is automatically encrypted</p>

<h3 id="password-data-store">Password Data Store</h3>

<p>The laptop contains a password data store consisting of GPG keys for every record in the data store.</p>

<p>In order to access the data store (or any of its records), you need a private GPG key.</p>

<p>The data store is backed up to a private online git repository.</p>

<h3 id="private-gpg-key">Private GPG Key</h3>

<p>The private key is itself protected by a secure passphrase (i.e. one that is almost impossible to crack - by today&rsquo;s standards and recommendations - and I&rsquo;ve not written it down but memorised it entirely).</p>

<p>The private/public key pair is stored on the laptop, but as the key is protected by a secure passphrase I feel (without going <em>over the top</em> on security) this is as good as I&rsquo;m probably going to get with it.</p>

<p>The private key is also backed up onto a remote USB drive in case I lose my laptop and I need the key in order to access the data in the password data store.</p>

<h3 id="private-git-repository">Private Git Repository</h3>

<p>The private git repo has two routes of access. The account itself with the relevant service provider and an SSH key that exists on my laptop to allow it to gain access to the contents of the repository (but not the contents of the files in the data store itself as they are protected by my private GPG key).</p>

<p>The passphrase for both the account and the SSH key are secure (by today&rsquo;s standards and recommendations) and are stored inside the password data store.</p>

<p>If my laptop was lost, then I&rsquo;d need to rely on the service provider&rsquo;s ability to reset my account password via email, where by I could then remove the existing SSH key and replace it with a new one.</p>

<p>I mention replacing the SSH key because I don&rsquo;t back it up. I feel this SSH key doesn&rsquo;t need to be a long lasting key (unlike my private GPG key which I intend to keep as safe as possible + the offline backup as a fallback).</p>

<p><div id="4"></div></p>

<h2 id="vulnerabilities">Vulnerabilities?</h2>

<p>There are a few layers to this architecture and so I&rsquo;m hoping this makes it harder for a compromise to be effective.</p>

<p>If someone compromises my laptop (i.e. gets access to it), then they can&rsquo;t access the password data store as they can&rsquo;t access my private key.</p>

<blockquote>
<p>Although a compromise <em>could</em> result in a key logger being installed and record what I type for my passphrase</p>
</blockquote>

<p>The only way to get my private key is to locate my remotely stored and safe USB that homes the raw private key contents.</p>

<p>If someone compromises the private git repository, they again can&rsquo;t do anything with the contents without my private GPG key.</p>

<blockquote>
<p>Note: when exporting a private key from GPG, it is by default encrypted with its passphrase (it&rsquo;s not the raw key)</p>
</blockquote>

<p><div id="5"></div></p>

<h2 id="conclusion">Conclusion</h2>

<p>So what do you think? Is this good, bad or just plain terrible?</p>

<p>Please let me know your thoughts on twitter (<a href="https://twitter.com/integralist">@integralist</a>)</p>

</div>

    
<footer class='entry-footer'>
  
    
      
      

<div class='categories'>
  <span class='category-icon'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M22,19a2,2,0,0,1-2,2H4a2,2,0,0,1-2-2V5A2,2,0,0,1,4,3H9l2,3h9a2,2,0,0,1,2,2Z"/>
  
</svg>

  </span>
  <span class='screen-reader'>Categories: </span><a class='category' href='/categories/code'>code</a>, <a class='category' href='/categories/security'>security</a></div>

    
  
    
      
      

<div class='tags'>
  <span class='tag-icon'>
    <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M20.59,13.41l-7.17,7.17a2,2,0,0,1-2.83,0L2,12V2H12l8.59,8.59A2,2,0,0,1,20.59,13.41Z"/>
  <line x1="7" y1="7" x2="7" y2="7"/>
  
</svg>

  </span>
  <span class='screen-reader'>Tags: </span><a class='tag' href='/tags/key'>key</a>, <a class='tag' href='/tags/gpg'>gpg</a></div>

    
  
</footer>


  </article>

  
    
<nav class='entry-nav'>
  <div class='entry-nav-links'><div class='prev-entry'>
      <a href='http://www.integralist.co.uk/posts/hitchikers-guide-to-go/'>
        <span aria-hidden='true'><svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="20" y1="12" x2="4" y2="12"/>
  <polyline points="10 18 4 12 10 6"/>
  
</svg>
 Previous</span>
        <span class='screen-reader'>Previous post: </span>Hitchikers Guide to Go</a>
    </div><div class='next-entry'>
      <a href='http://www.integralist.co.uk/posts/dev-environments-within-docker-containers/'>
        <span class='screen-reader'>Next post: </span>Dev Environments Within Docker Containers<span aria-hidden='true'>Next <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <line x1="4" y1="12" x2="20" y2="12"/>
  <polyline points="14 6 20 12 14 18"/>
  
</svg>
</span>
      </a>
    </div></div>
</nav>


  

  
    <div class='comments-container'>
  
</div>

  
</main>

    <footer id='footer' class='footer-container'>
      <div class='footer'>
        <div class='social'>
  <nav aria-label='Social Menu'>
    <ul class='social-menu'><li>
        <a href='https://github.com/integralist' target='_blank' rel='noopener'>
          <span class='screen-reader'>Open Github account in new tab</span>
          <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/>
  
</svg>

        </a>
      </li><li>
        <a href='https://instagram.com/integralist' target='_blank' rel='noopener'>
          <span class='screen-reader'>Open Instagram account in new tab</span>
          <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"/>
  <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/>
  <line x1="17.5" y1="6.5" x2="17.5" y2="6.5"/>
  
</svg>

        </a>
      </li><li>
        <a href='https://twitter.com/integralist' target='_blank' rel='noopener'>
          <span class='screen-reader'>Open Twitter account in new tab</span>
          <svg class='icon' viewbox='0 0 24 24' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' aria-hidden='true'>
  
  <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
  
</svg>

        </a>
      </li></ul>
  </nav>
</div>

        <div class='copyright'>
          <p>
    
  
  &copy; 2017 integralist</p>

        </div>
      </div>
    </footer>

  </div>

  <script src='/js/main.af838dd5.js'></script>
  

</body>

</html>

